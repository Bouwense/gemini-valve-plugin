{"version":3,"file":"ThankYouPage-Qjd7AexU.js","sources":["../../src/widget/features/thank-you-page/ThankYouPage.vue"],"sourcesContent":["<template>\n  <div class=\"calc-thank-you-page-container vertical\">\n    <div\n      class=\"thank-you-page\"\n      v-show=\"showThankYouPage\"\n      :class=\"{ loaded: showThankYouPage }\"\n    >\n      <span\n        class=\"thank-you-page-close\"\n        v-if=\"!showBackToCalculators\"\n        @click.prevent=\"backToCalculatorAction\"\n      >\n        <span class=\"ccb-icon-close-x\"></span>\n      </span>\n      <div class=\"thank-you-page-inner-container\">\n        <div class=\"thank-you-page__icon-box\">\n          <span class=\"icon-wrapper\">\n            <span class=\"icon-content\">\n              <i class=\"ccb-icon-Octicons\"></i>\n            </span>\n          </span>\n        </div>\n        <div class=\"thank-you-page__title-box\">\n          <span\n            class=\"thank-you-page__title-box-title\"\n            v-text=\"getThankYouPageSettings?.title\"\n          ></span>\n          <span\n            class=\"thank-you-page__title-box-desc\"\n            v-text=\"getThankYouPageSettings?.description\"\n          ></span>\n        </div>\n        <div\n          class=\"thank-you-page__order\"\n          v-if=\"getThankYouPageSettings?.showOrderId\"\n        >\n          <span>\n            <span v-text=\"getThankYouPageSettings?.orderTitle\"></span>\n            <span v-text=\"submissionStore.orderId\"></span>\n          </span>\n        </div>\n        <div class=\"thank-you-page__actions\">\n          <div class=\"thank-you-page__actions-wrapper\">\n            <!-- back calculator -->\n            <div v-if=\"showBackToCalculators\">\n              <Button\n                :text=\"getThankYouPageSettings?.backButtonText || ''\"\n                @click=\"backToCalculatorAction\"\n                type=\"light\"\n                icon=\"ccb-icon-Arrow-Previous\"\n                icon-position=\"before\"\n              />\n            </div>\n\n            <!-- custom button -->\n            <div v-if=\"getThankYouPageSettings?.customButton\">\n              <a\n                :href=\"getThankYouPageSettings?.customButtonLink\"\n                target=\"_blank\"\n                class=\"ccb-button calc-secondary\"\n              >\n                <span v-text=\"getThankYouPageSettings?.customButtonText\"></span>\n              </a>\n            </div>\n\n            <!-- download PDF -->\n            <div\n              v-if=\"\n                getThankYouPageSettings?.downloadButton &&\n                getInvoiceSettings?.useInAll\n              \"\n            >\n              <Button\n                :text=\"getThankYouPageSettings?.downloadButtonText\"\n                @click=\"downloadPdf\"\n                type=\"success\"\n              />\n            </div>\n\n            <!-- send PDF -->\n            <div\n              v-if=\"\n                getThankYouPageSettings?.shareButton &&\n                getInvoiceSettings?.useInAll &&\n                getInvoiceSettings?.emailButton\n              \"\n            >\n              <Button\n                class=\"calc-secondary\"\n                @click=\"sendPdf\"\n                type=\"success-outlined\"\n                :text=\"getThankYouPageSettings?.shareButtonText\"\n              >\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <PdfInvoice :hide-buttons=\"true\" />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from \"vue\";\nimport { useSettingsStore } from \"@/widget/app/providers/stores/settingsStore.ts\";\nimport { useSubmissionStore } from \"@/widget/app/providers/stores/submissionStore.ts\";\nimport { useNotificationsStore } from \"@/widget/app/providers/stores/notificationsStore\";\nimport { useAppStore } from \"@/widget/app/providers/stores/appStore\";\nimport PdfInvoice from \"@/widget/features/pdf-invoice/send-quote\";\nimport Button from \"@/widget/shared/ui/components/Button\";\nimport { usePaymentAfterSubmitStore } from \"@/widget/app/providers/stores/paymentAfterSubmit\";\nimport { useOrderFormStore } from \"@/widget/app/providers/stores/orderFormStore\";\nimport { usePaymentStore } from \"@/widget/app/providers/stores/paymentsStore\";\nimport { useFieldsStore } from \"@/widget/app/providers/stores/fieldsStore\";\n\nconst settingsStore = useSettingsStore();\nconst submissionStore = useSubmissionStore();\nconst notificationsStore = useNotificationsStore();\nconst appStore = useAppStore();\n\nconst showThankYouPage = ref(false);\n\nconst getThankYouPageSettings = computed(() => settingsStore.getThankYouPage);\n\nconst getInvoiceSettings = computed(() => settingsStore.getInvoice);\n\nconst showBackToCalculators = computed(\n  () => getThankYouPageSettings.value?.type !== \"modal\",\n);\n\nconst separatePageEnable = computed(() => {\n  return getThankYouPageSettings.value?.type === \"separate_page\";\n});\n\nconst backToCalculatorAction = () => {\n  if (separatePageEnable) {\n    const previousPage = localStorage.getItem(\"ccb_previous_page\");\n    if (previousPage) {\n      localStorage.removeItem(\"ccb_previous_page\");\n      window.location.href = previousPage;\n    }\n  }\n\n  const paymentStore = usePaymentStore();\n  paymentStore.updatePaymentType(\"\");\n\n  const paymentAfterSubmitStore = usePaymentAfterSubmitStore();\n  paymentAfterSubmitStore.setIsPaymentAfterSubmit(false);\n\n  const settingsStore = useSettingsStore();\n  settingsStore.updateTermsValue(false);\n\n  const orderFormStore = useOrderFormStore();\n  orderFormStore.resetBtnData();\n\n  const fieldsStore = useFieldsStore();\n  fieldsStore.updateActivePageIndex(0);\n\n  showThankYouPage.value = false;\n  appStore.updateThankYouPageStatus(false);\n  notificationsStore.resetNotifications();\n};\n\nconst downloadPdf = () => {\n  window.dispatchEvent(new CustomEvent(\"ccbDownLoadPdf\"));\n};\n\nconst sendPdf = () => {\n  window.dispatchEvent(\n    new CustomEvent(\"ccbOpenModal\", { detail: { calcId: appStore.getCalcId } }),\n  );\n};\n\nonMounted(() => {\n  showThankYouPage.value = true;\n});\n</script>\n\n<style scoped lang=\"scss\">\n.calc-thank-you-page-container {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin: 0 auto;\n\n  &.vertical {\n    max-width: var(--ccb-vertical-max-width);\n  }\n  .thank-you-page {\n    width: 100%;\n    border-radius: 6px;\n    border: 1px solid var(--ccb-container-border-color);\n    background: var(--ccb-container-color);\n    padding: 45px 30px 40px 35px;\n    opacity: 0;\n    visibility: visible;\n    position: relative;\n    color: var(--ccb-text-color);\n\n    &-close {\n      box-sizing: border-box;\n      cursor: pointer;\n      display: flex;\n      padding: 3px;\n      justify-content: center;\n      align-items: center;\n      border-radius: 50%;\n      width: 30px;\n      height: 30px;\n      position: absolute;\n      top: 14px;\n      right: 14px;\n      background-color: #eef1f7;\n      transition: background 200ms linear;\n\n      span {\n        font-size: 13px;\n        color: #00193166;\n      }\n\n      @media screen and (max-width: 768px) {\n        width: 20px;\n        height: 20px;\n\n        span {\n          font-size: 12px;\n          color: #00193166;\n        }\n      }\n    }\n\n    &.loaded {\n      visibility: visible;\n      opacity: 1;\n    }\n\n    @media screen and (max-width: 480px) {\n      & {\n        padding: 20px 15px;\n      }\n    }\n\n    .thank-you-page-inner-container {\n      max-width: 420px;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      row-gap: 20px;\n      margin: 0 auto;\n    }\n\n    &__icon-box {\n      .icon-wrapper {\n        width: 114px;\n        height: 114px;\n        border-radius: 50%;\n        background-color: rgba(26, 177, 99, 0.1);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        .icon-content {\n          width: 64px;\n          height: 64px;\n          background-color: var(--ccb-accent-color);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n\n          i {\n            font-size: 20px;\n            color: var(--ccb-fields-bg-color);\n          }\n        }\n\n        @media screen and (max-width: 480px) {\n          width: 98px;\n          height: 98px;\n\n          .icon-content {\n            width: 48px;\n            height: 48px;\n          }\n        }\n      }\n    }\n\n    &__title-box {\n      display: flex;\n      flex-direction: column;\n\n      & span {\n        word-break: break-all;\n      }\n\n      &-title {\n        color: var(--ccb-text-color);\n        text-align: center;\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 700;\n        line-height: 22px;\n      }\n\n      &-desc {\n        color: var(--ccb-text-color);\n        text-align: center;\n        font-size: 14px;\n        font-style: normal;\n        font-weight: 500;\n      }\n    }\n\n    &__order {\n      span {\n        display: flex;\n        column-gap: 5px;\n        span {\n          &:first-child {\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            max-width: 300px;\n            width: 100%;\n            display: inline-block;\n          }\n\n          color: var(--ccb-text-color);\n          text-align: center;\n          font-size: 14px;\n          font-style: normal;\n          font-weight: 500;\n        }\n      }\n    }\n\n    &__actions {\n      width: 100%;\n      display: flex;\n      justify-content: center;\n\n      &-wrapper {\n        max-width: 420px;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: center;\n        row-gap: 15px;\n        column-gap: 8px;\n        width: 100%;\n\n        @media screen and (max-width: 480px) {\n          column-gap: 5px;\n          row-gap: 10px;\n        }\n\n        .back-button {\n          color: var(--ccb-text-color) !important;\n          background: var(--ccb-fields-bg-color) !important;\n          border-color: var(--ccb-fields-border-color) !important;\n        }\n\n        div {\n          width: 49%;\n\n          @media screen and (max-width: 480px) {\n            width: 45%;\n          }\n\n          a,\n          button {\n            box-sizing: border-box;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            padding: 8px 10px;\n            border-radius: 4px;\n            border: 1px solid #0019310d;\n            width: 100%;\n            height: 40px;\n            font-weight: var(--ccb-fields-button-weight);\n            font-family: inherit;\n            font-size: var(--ccb-fields-button-size);\n            outline: none !important;\n            box-shadow: none !important;\n            text-decoration: none !important;\n            transition: all linear 200ms;\n\n            @media screen and (max-width: 480px) {\n              padding: 0;\n              font-size: var(--ccb-mobile-fields-button-size);\n              font-weight: var(--ccb-mobile-fields-button-weight);\n            }\n\n            span {\n              width: max-content;\n              white-space: nowrap;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              padding: 0 8px;\n\n              font-size: var(--ccb-fields-button-size);\n              font-style: normal;\n              font-weight: 700;\n\n              @media only screen and (max-width: 480px) {\n                font-size: var(--ccb-mobile-fields-button-size);\n              }\n            }\n\n            i {\n              position: relative;\n              left: -2px;\n            }\n\n            &.calc-primary {\n              border-color: #eef1f7;\n              background: #eef1f7;\n              color: #011a30;\n            }\n\n            &.calc-secondary {\n              border-color: var(--ccb-accent-color) !important;\n              background: var(--ccb-fields-bg-color);\n              color: var(--ccb-accent-color);\n\n              &:hover {\n                background: var(--ccb-accent-color);\n                color: var(--ccb-fields-bg-color);\n              }\n            }\n\n            &.calc-success {\n              border-color: var(--ccb-accent-color);\n              background: var(--ccb-accent-color);\n              color: var(--ccb-text-color);\n            }\n\n            &.light {\n              background: var(--ccb-button-light-bg);\n              border-color: var(--ccb-button-light-bg);\n\n              &:hover {\n                background: var(--ccb-button-light-bg-alpha);\n                border-color: var(--ccb-button-light-bg-alpha);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"],"names":["settingsStore","useSettingsStore","submissionStore","useSubmissionStore","notificationsStore","useNotificationsStore","appStore","useAppStore","showThankYouPage","ref","getThankYouPageSettings","computed","getInvoiceSettings","showBackToCalculators","_a","separatePageEnable","backToCalculatorAction","previousPage","usePaymentStore","usePaymentAfterSubmitStore","useOrderFormStore","useFieldsStore","downloadPdf","sendPdf","onMounted"],"mappings":"+yBAoHA,MAAMA,EAAgBC,EAAiB,EACjCC,EAAkBC,EAAmB,EACrCC,EAAqBC,EAAsB,EAC3CC,EAAWC,EAAY,EAEvBC,EAAmBC,EAAI,EAAK,EAE5BC,EAA0BC,EAAS,IAAMX,EAAc,eAAe,EAEtEY,EAAqBD,EAAS,IAAMX,EAAc,UAAU,EAE5Da,EAAwBF,EAC5B,WAAM,QAAAG,EAAAJ,EAAwB,QAAxB,YAAAI,EAA+B,QAAS,QAChD,EAEMC,EAAqBJ,EAAS,IAAM,OACjC,QAAAG,EAAAJ,EAAwB,QAAxB,YAAAI,EAA+B,QAAS,eAAA,CAChD,EAEKE,EAAyB,IAAM,CACnC,GAAID,EAAoB,CAChB,MAAAE,EAAe,aAAa,QAAQ,mBAAmB,EACzDA,IACF,aAAa,WAAW,mBAAmB,EAC3C,OAAO,SAAS,KAAOA,EACzB,CAGmBC,EAAgB,EACxB,kBAAkB,EAAE,EAEDC,EAA2B,EACnC,wBAAwB,EAAK,EAE/BlB,EAAiB,EACzB,iBAAiB,EAAK,EAEbmB,EAAkB,EAC1B,aAAa,EAERC,EAAe,EACvB,sBAAsB,CAAC,EAEnCb,EAAiB,MAAQ,GACzBF,EAAS,yBAAyB,EAAK,EACvCF,EAAmB,mBAAmB,CACxC,EAEMkB,EAAc,IAAM,CACxB,OAAO,cAAc,IAAI,YAAY,gBAAgB,CAAC,CACxD,EAEMC,EAAU,IAAM,CACb,OAAA,cACL,IAAI,YAAY,eAAgB,CAAE,OAAQ,CAAE,OAAQjB,EAAS,UAAa,CAAA,CAC5E,CACF,EAEA,OAAAkB,EAAU,IAAM,CACdhB,EAAiB,MAAQ,EAAA,CAC1B"}