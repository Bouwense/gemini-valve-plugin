{"version":3,"mappings":"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","names":["pageBreakerSettings","useSettingsStore","appStore","useAppStore","fieldsStore","useFieldsStore","translationsStore","useTranslationsStore","activeStepIndex","computed","currentComponents","defineAsyncComponent","__vitePreload","hideTitle","calcTitle","getPages","allPages","page","index","summaryTitle","settingsStore","getEditCalcButton","pageBreakerStore","usePageBreakerStore","submissionStore","useSubmissionStore","notificationsStore","useNotificationsStore","getThankYouPageSettings","pageHistory","showThankYouPage","hideThankYouPage","settings","type","enable","_a","link","watch","newValue","isModal","_c","popup","_b","activePageIndex","pageBreakerRef","ref","showPopup","hidePopup","prevBtnText","nextBtnText","pageFormulas","formula","totalsInNavigation","hidePagination","summaryLastPage","hideBackButton","enoughPages","activePageFieldsAliases","allAliases","i","section","field","groupElement","activePageConditionAction","hideNextButton","length","pageBreakFields","activePage","fields","nextPage","pageConditionResult","nextPageIndex","pageIndex","currentPageStyle","result","prevPage","prevPageIndex","getFieldItemType","summary","pageBreakerElement","rect","appearanceStore","useAppearanceStore","currentStyle","changeStyle","style","pageBreakEnabled"],"ignoreList":[],"sources":["../../src/widget/shared/ui/components/Step-pagination/PaginationItem.vue","../../src/widget/shared/ui/components/Edit-button/EditButton.vue","../../src/widget/widgets/page-breaker/PageBreaker.vue","../../src/widget/shared/ui/components/Box-styles/BoxStyles.vue","../../src/widget/pages/calculator/Calculator.vue"],"sourcesContent":["<template>\n  <div class=\"ccb-pagination\" :class=\"pageBreakerSettings?.paginationType\">\n    <component\n      :is=\"currentComponents\"\n      :pages=\"getPages\"\n      :step=\"activeStepIndex\"\n      :hideTitle=\"hideTitle\"\n      :calcTitle=\"calcTitle\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, defineAsyncComponent } from \"vue\";\nimport { useSettingsStore } from \"@/widget/app/providers/stores/settingsStore.ts\";\nimport { useAppStore } from \"@/widget/app/providers/stores/appStore.ts\";\nimport { useFieldsStore } from \"@/widget/app/providers/stores/fieldsStore.ts\";\nimport { useTranslationsStore } from \"@/widget/app/providers/stores/translationsStore\";\n\nconst settingsStore = useSettingsStore();\nconst pageBreakerSettings = settingsStore.getPageBreakerSettings;\nconst appStore = useAppStore();\nconst fieldsStore = useFieldsStore();\nconst translationsStore = useTranslationsStore();\n\nconst activeStepIndex = computed(() => {\n  return fieldsStore.getActivePageIndex + 1;\n});\n\nconst currentComponents = computed(() => {\n  if (pageBreakerSettings?.paginationType === \"circle_with_line\") {\n    return defineAsyncComponent(() => import(\"./CircleWithLine.vue\"));\n  } else if (\n    pageBreakerSettings?.paginationType === \"rectangle_steps_with_line\"\n  ) {\n    return defineAsyncComponent(() => import(\"./RectangleWithLine.vue\"));\n  } else if (pageBreakerSettings?.paginationType === \"circle_tabs\") {\n    return defineAsyncComponent(() => import(\"./CircleTabs.vue\"));\n  } else if (pageBreakerSettings?.paginationType === \"rectangle_tabs\") {\n    return defineAsyncComponent(() => import(\"./RectangleTabs.vue\"));\n  } else if (pageBreakerSettings?.paginationType === \"progress_with_circle\") {\n    return defineAsyncComponent(() => import(\"./ProgressWithCircle.vue\"));\n  } else if (pageBreakerSettings?.paginationType === \"progress_with_bar\") {\n    return defineAsyncComponent(() => import(\"./ProgressWithBar.vue\"));\n  }\n});\n\nconst hideTitle = computed(() => {\n  return !!pageBreakerSettings?.hidePaginationTitle;\n});\n\nconst calcTitle = computed(() => {\n  return appStore.getCalcTitle;\n});\n\nconst getPages = computed(() => {\n  const pages = fieldsStore.getPages;\n  let allPages = pages.map((page, index) => {\n    return {\n      id: index + 1,\n      title: page.label,\n      label: page.label,\n    };\n  });\n\n  if (pageBreakerSettings?.summaryAfterLastPage) {\n    const summaryTitle = translationsStore.getTranslations.summary || \"Summary\";\n    allPages.push({\n      id: allPages.length + 1,\n      title: summaryTitle,\n      label: summaryTitle,\n    });\n  }\n\n  return allPages;\n});\n</script>\n\n<style lang=\"scss\">\n.ccb-pagination {\n  position: relative;\n  overflow-x: auto;\n  background-color: var(--ccb-container-color);\n\n  .ccb-calc-title {\n    position: absolute;\n    color: #001931;\n    font-size: 20px;\n    font-weight: 700;\n    margin-bottom: 10px;\n    grid-column: 1 / -1;\n  }\n\n  .ccb-rectangle-with-line,\n  .ccb-circle-with-line {\n    &.hide-title {\n      .tab__title {\n        display: none;\n      }\n    }\n\n    .tab {\n      margin: 0 10px;\n      display: flex;\n      align-items: center;\n\n      &.done {\n        .tab__item {\n          background-color: var(--ccb-accent-color);\n          color: var(--ccb-container-color);\n        }\n\n        .complete {\n          display: flex;\n        }\n\n        .count {\n          display: none;\n        }\n      }\n\n      &.active {\n        .tab__title {\n          font-weight: 600;\n        }\n\n        .complete {\n          display: none;\n        }\n      }\n    }\n\n    .tab__item {\n      margin-right: 6px;\n      width: 36px;\n      height: 36px;\n      border-radius: 8px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-shrink: 0;\n      max-width: 140px;\n    }\n  }\n\n  padding: 20px;\n  border-bottom: 1px solid var(--ccb-fields-bg-color);\n\n  .tab__title {\n    color: var(--ccb-text-color);\n    font-weight: 500;\n    font-size: 13px;\n  }\n}\n\n.summary-last-page {\n  .ccb-pagination {\n    max-width: 100%;\n  }\n}\n\n@media (max-width: 768px) {\n  .ccb-pagination {\n    position: relative;\n\n    &.circle_with_line,\n    &.rectangle_steps_with_line {\n      height: 70px;\n    }\n\n    &.circle_tabs,\n    &.rectangle_tabs {\n      height: 40px;\n    }\n\n    .ccb-circle-with-line,\n    .ccb-circle-tab,\n    .ccb-rectangle-with-line,\n    .ccb-rectangle-tab {\n      position: absolute;\n    }\n  }\n\n  .ccb-page-navigation {\n    flex-direction: column;\n    gap: 15px;\n\n    &__actions {\n      display: grid !important;\n      width: 100%;\n      grid-template-columns: 1fr;\n      gap: 10px;\n\n      .ccb-button {\n        width: 100% !important;\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <a\n    v-if=\"getEditCalcButton\"\n    :href=\"getEditCalcButton?.editCalcUrl\"\n    target=\"_blank\"\n    class=\"ccb-calc-edit\"\n  >\n    <span><i class=\"ccb-icon-Path-3483\"></i></span>\n    <span class=\"ccb-calc-edit__text\">{{\n      translationsStore.getTranslations.edit\n    }}</span>\n  </a>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { useSettingsStore } from \"@/widget/app/providers/stores/settingsStore\";\nimport { useTranslationsStore } from \"@/widget/app/providers/stores/translationsStore\";\n\nconst settingsStore = useSettingsStore();\nconst translationsStore = useTranslationsStore();\n\nconst getEditCalcButton = computed(() => settingsStore.getEditCalcButton);\n</script>\n\n<style lang=\"scss\">\na,\na:focus,\na:hover,\na:visited {\n  text-decoration: none;\n  outline: none;\n}\n\n.ccb-sticky-modal {\n  .ccb-calc-edit {\n    display: none;\n  }\n}\n\n.ccb-calc-edit {\n  transition: all 450ms cubic-bezier(0.4, 0.25, 0.3, 1.3);\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  top: 20px;\n  left: -4%;\n  transform: translateX(-50%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: var(--ccb-container-border) solid var(--ccb-container-border-color);\n  background-color: var(--ccb-container-converted);\n  color: var(--ccb-text-color);\n  border-radius: 50%;\n  cursor: pointer;\n  overflow: hidden;\n  box-shadow: none !important;\n\n  @media (max-width: 1239px) {\n    display: none;\n  }\n\n  span {\n    transition: all 400ms cubic-bezier(0.4, 0.25, 0.3, 1.3) 100ms;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 60px;\n    vertical-align: middle;\n\n    &:first-of-type {\n      font-size: 20px;\n      transform: translate(-50%, -50%);\n    }\n\n    &:last-of-type {\n      transform: translate(-50%, 50%);\n      text-transform: uppercase;\n    }\n  }\n\n  &:hover {\n    width: 70px;\n    border-radius: 6px;\n\n    span:first-of-type {\n      transform: translate(-50%, -150%);\n    }\n    span:last-of-type {\n      transform: translate(-50%, -50%);\n    }\n  }\n}\n</style>\n","<template>\n  <div\n    class=\"ccb-page-breaker\"\n    :class=\"[\n      {\n        'summary-last-page': summaryLastPage,\n        'ccb-page-breaker-border': enoughPages,\n      },\n      currentPageStyle,\n    ]\"\n    ref=\"pageBreakerRef\"\n    v-if=\"!hideThankYouPage\"\n  >\n    <div class=\"ccb-page-breaker__content\">\n      <PaginationItem v-if=\"hidePagination && enoughPages\" />\n      <EditButton />\n      <Layout></Layout>\n      <CCBPopup size=\"medium\" ref=\"popup\" v-if=\"appStore.isProActive\">\n        <ThankYouPage />\n      </CCBPopup>\n      <div\n        class=\"ccb-page-navigation\"\n        :class=\"{ 'page-formulas': totalsInNavigation }\"\n        v-if=\"enoughPages\"\n      >\n        <div class=\"ccb-page-navigation__formulas\" v-if=\"totalsInNavigation\">\n          <div class=\"ccb-page-navigation__totals\">\n            <template v-for=\"summary in fieldsStore.getTotalsList\">\n              <Transition name=\"fade\">\n                <TotalSummaryItem\n                  v-if=\"!summary.hidden && pageFormulas.includes(summary.alias)\"\n                  :key=\"summary.alias\"\n                  item-type=\"total\"\n                  :summary=\"summary\"\n                ></TotalSummaryItem>\n              </Transition>\n            </template>\n          </div>\n          <div class=\"ccb-page-navigation__popup-action\">\n            <span @click=\"showPopup\">{{\n              translationsStore.getTranslations.showSummary\n            }}</span>\n            <CCBPopup ref=\"popup\">\n              <div class=\"ccb-page-popup\">\n                <div class=\"ccb-page-popup__header\">\n                  <div class=\"ccb-page-popup__title\">\n                    {{ settingsStore.getGeneralSettings?.headerTitle }}\n                  </div>\n                  <div class=\"ccb-page-popup__close\" @click=\"hidePopup\">\n                    <i class=\"ccb-icon-close\"></i>\n                  </div>\n                </div>\n                <div class=\"ccb-page-popup__body\">\n                  <Wrapper wrapper=\"subtotal\">\n                    <template v-slot:default>\n                      <TotalSummaryList list-type=\"summary\">\n                        <template\n                          v-for=\"summary in fieldsStore.getSummaryList\"\n                          :key=\"summary.alias\"\n                        >\n                          <Transition name=\"fade\">\n                            <TotalSummaryItem\n                              v-if=\"\n                                !summary.hidden &&\n                                activePageFieldsAliases.includes(summary.alias)\n                              \"\n                              :item-type=\"getFieldItemType(summary)\"\n                              :summary=\"summary\"\n                            ></TotalSummaryItem>\n                          </Transition>\n                        </template>\n                      </TotalSummaryList>\n\n                      <TotalSummaryList list-type=\"total\">\n                        <template\n                          v-for=\"summary in fieldsStore.getTotalsList\"\n                          :key=\"summary.alias\"\n                        >\n                          <Transition name=\"fade\">\n                            <TotalSummaryItem\n                              v-if=\"!summary.hidden\"\n                              item-type=\"total\"\n                              :summary=\"summary\"\n                            ></TotalSummaryItem>\n                          </Transition>\n                        </template>\n                      </TotalSummaryList>\n                    </template>\n                  </Wrapper>\n                </div>\n              </div>\n            </CCBPopup>\n          </div>\n        </div>\n        <div class=\"ccb-page-navigation__actions\">\n          <Button\n            type=\"success-outlined\"\n            :text=\"prevBtnText\"\n            @click=\"prevPage\"\n            icon=\"ccb-icon-Arrow-Previous\"\n            iconPosition=\"before\"\n            v-if=\"hideBackButton\"\n          ></Button>\n          <Button\n            type=\"success\"\n            :text=\"nextBtnText\"\n            @click=\"nextPage\"\n            icon=\"ccb-icon-Arrow-Previous\"\n            iconPosition=\"after\"\n            class=\"next-btn\"\n            v-if=\"hideNextButton\"\n            :disabled=\"pageBreakerStore.getDisableNextButton\"\n          ></Button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref, watch } from \"vue\";\nimport Layout from \"@/widget/shared/ui/layouts/Layout.vue\";\nimport Wrapper from \"@/widget/shared/ui/wrappers/Wrapper.vue\";\nimport PaginationItem from \"@/widget/shared/ui/components/Step-pagination/PaginationItem.vue\";\nimport { useFieldsStore } from \"@/widget/app/providers/stores/fieldsStore.ts\";\nimport TotalSummaryList from \"@/widget/shared/ui/total-summary/TotalSummaryList.vue\";\nimport TotalSummaryItem from \"@/widget/shared/ui/total-summary/TotalSummaryItem.vue\";\nimport EditButton from \"@/widget/shared/ui/components/Edit-button/EditButton.vue\";\nimport { useNotificationsStore } from \"@/widget/app/providers/stores/notificationsStore.ts\";\nimport Button from \"@/widget/shared/ui/components/Button/Button.vue\";\nimport { useSettingsStore } from \"@/widget/app/providers/stores/settingsStore.ts\";\nimport CCBPopup from \"@/widget/shared/ui/components/Popup/Popup.vue\";\nimport { Field } from \"@/widget/shared/types/fields\";\nimport { useAppStore } from \"@/widget/app/providers/stores/appStore.ts\";\nimport { usePageBreakerStore } from \"@/widget/app/providers/stores/pageBreakerStore.ts\";\n\nconst appStore = useAppStore();\nconst pageBreakerStore = usePageBreakerStore();\n\nimport { useTranslationsStore } from \"@/widget/app/providers/stores/translationsStore\";\nimport ThankYouPage from \"@/widget/features/thank-you-page\";\nimport { useSubmissionStore } from \"@/widget/app/providers/stores/submissionStore.ts\";\n\nconst fieldsStore = useFieldsStore();\nconst settingsStore = useSettingsStore();\nconst submissionStore = useSubmissionStore();\nconst pageBreakerSettings = settingsStore.getPageBreakerSettings;\n\nconst notificationsStore = useNotificationsStore();\nconst translationsStore = useTranslationsStore();\n\nconst getThankYouPageSettings = computed(() => settingsStore.thankYouPage);\n\nconst pageHistory: number[] = [];\n\nconst showThankYouPage = computed((): boolean => {\n  return !(\n    settingsStore.hasThankYouPage &&\n    notificationsStore.notificationType === \"finish\"\n  );\n});\n\nconst hideThankYouPage = computed((): boolean => {\n  const settings = getThankYouPageSettings.value;\n  const type = settings?.type;\n  const enable = settings?.enable;\n\n  if (\n    notificationsStore.notificationType === \"finish\" &&\n    settingsStore.hasThankYouPage\n  ) {\n    return getThankYouPageSettings.value?.type === \"same_page\";\n  }\n\n  if (notificationsStore.notificationType === \"finish\" && enable) {\n    if (type === \"separate_page\" && settings?.pageUrl) {\n      let link = settings?.pageUrl;\n      link = link.includes(\"?\")\n        ? `${link}&order_id=${submissionStore.orderId}`\n        : `${link}?order_id=${submissionStore.orderId}`;\n\n      localStorage.setItem(\"ccb_previous_page\", window.location.href);\n      notificationsStore.resetNotifications();\n      window.location.replace(link);\n    }\n\n    if (type === \"custom_page\" && settings.customPageLink) {\n      notificationsStore.resetNotifications();\n      window.open(settings.customPageLink, \"_blank\");\n    }\n  }\n  return false;\n});\n\nwatch(showThankYouPage, (newValue) => {\n  const isModal = getThankYouPageSettings.value?.type === \"modal\";\n\n  if (!newValue) {\n    appStore.updateThankYouPageStatus(!isModal);\n    isModal ? popup.value?.showPopup() : null;\n  } else {\n    popup.value?.hidePopup();\n  }\n});\n\nconst activePageIndex = computed(() => {\n  return fieldsStore.getActivePageIndex;\n});\n\nconst pageBreakerRef = ref<HTMLElement | null>(null);\n\nconst popup = ref();\n\nconst showPopup = () => {\n  popup.value.showPopup();\n};\n\nconst hidePopup = () => {\n  popup.value.hidePopup();\n};\n\nconst prevBtnText = computed(() => {\n  const page = fieldsStore.getActivePage;\n  return page ? page.previousBtnLabel : translationsStore.getTranslations.back;\n});\n\nconst nextBtnText = computed(() => {\n  const page = fieldsStore.getActivePage;\n  return page.nextBtnLabel;\n});\n\nconst pageFormulas = computed(() => {\n  return (\n    pageBreakerSettings?.formulas?.map((formula) => {\n      return formula.alias;\n    }) || []\n  );\n});\n\nconst totalsInNavigation = computed(() => {\n  return pageBreakerSettings?.totalInPage;\n});\n\nconst hidePagination = computed(() => {\n  return pageBreakerSettings?.paginationType !== \"hidden\";\n});\n\nconst summaryLastPage = computed(() => {\n  return pageBreakerSettings?.summaryAfterLastPage;\n});\n\nconst hideBackButton = computed(() => {\n  return activePageIndex.value !== 0;\n});\n\n// copy from Vertical.vue\nconst enoughPages = computed(() => {\n  return fieldsStore.getPages.length > 1;\n});\n\n// copy from Vertical.vue\nconst activePageFieldsAliases = computed(() => {\n  const allAliases: string[] = [];\n\n  for (let i = 0; i <= activePageIndex.value; i++) {\n    const page = fieldsStore.getPages[i];\n    if (page && \"groupElements\" in page) {\n      if (page?.groupElements) {\n        page.groupElements.forEach((section: any) => {\n          if (section.fields) {\n            section.fields.forEach((field: Field) => {\n              if (field.alias.includes(\"repeater\")) {\n                allAliases.push(field.alias);\n              }\n              if (field.alias) {\n                if (\n                  \"groupElements\" in field &&\n                  Array.isArray(field.groupElements)\n                ) {\n                  field.groupElements.forEach((groupElement: any) => {\n                    if (groupElement.alias) {\n                      allAliases.push(groupElement.alias);\n                    }\n                  });\n                } else {\n                  allAliases.push(field.alias);\n                }\n              }\n            });\n          }\n        });\n      }\n    }\n  }\n\n  return allAliases;\n});\n\nconst activePageConditionAction = computed(() => {\n  return fieldsStore.getActivePage.action;\n});\n\nconst hideNextButton = computed(() => {\n  let length = summaryLastPage.value\n    ? fieldsStore.getPages.length\n    : fieldsStore.getPages.length - 1;\n  return activePageIndex.value !== length;\n});\n\nconst pageBreakFields = computed(() => {\n  const activePage = fieldsStore.getActivePage;\n  if (!activePage?.groupElements) {\n    return [];\n  }\n\n  const fields = Array.from(activePage.groupElements.values());\n  return fieldsStore.getFields.filter((field: Field) => {\n    return fields.some((groupElement: any) => {\n      return groupElement.alias === field.alias;\n    });\n  });\n});\n\nconst nextPage = () => {\n  const pageConditionResult = pageBreakerStore.checkPageFieldsConditions();\n\n  if (fieldsStore.checkPageRequiredFields(pageBreakFields.value)) {\n    if (pageConditionResult) {\n      if (activePageConditionAction.value === \"not_skip\") {\n        return;\n      } else if (activePageConditionAction.value === \"skip\") {\n        let length = summaryLastPage.value\n          ? fieldsStore.getPages.length + 1\n          : fieldsStore.getPages.length;\n\n        const nextPageIndex = activePageIndex.value + 2;\n        if (nextPageIndex < length) {\n          pageHistory.push(activePageIndex.value);\n          fieldsStore.updateActivePageIndex(nextPageIndex);\n        }\n      } else if (activePageConditionAction.value === \"jump_to\") {\n        const pageIndex = fieldsStore.getPageIndex(\n          fieldsStore.getActivePage.pageTo,\n        );\n        if (pageIndex !== undefined) {\n          pageHistory.push(activePageIndex.value);\n          fieldsStore.updateActivePageIndex(pageIndex);\n        }\n      }\n    } else {\n      let length = summaryLastPage.value\n        ? fieldsStore.getPages.length + 1\n        : fieldsStore.getPages.length;\n\n      const nextPageIndex = activePageIndex.value + 1;\n      if (nextPageIndex < length) {\n        pageHistory.push(activePageIndex.value);\n        fieldsStore.updateActivePageIndex(nextPageIndex);\n      }\n    }\n  } else {\n    return;\n  }\n};\n\nconst currentPageStyle = computed(() => {\n  const page = fieldsStore.getPages[activePageIndex.value];\n  let result = page && \"boxStyle\" in page ? page.boxStyle : \"horizontal\";\n\n  if (\n    summaryLastPage.value &&\n    activePageIndex.value === fieldsStore.getPages.length\n  ) {\n    result = \"vertical\";\n  }\n\n  return result;\n});\n\nconst prevPage = () => {\n  if (pageHistory.length > 0) {\n    const prevPageIndex = pageHistory.pop();\n    if (prevPageIndex !== undefined) {\n      fieldsStore.updateActivePageIndex(prevPageIndex);\n    }\n  }\n};\n\n// copy from Vertical.vue\nconst getFieldItemType = computed(() => {\n  return (summary: Field): \"summary\" | \"repeater\" | \"group\" | \"total\" => {\n    const types: { [key: string]: \"repeater\" | \"group\" | \"total\" } = {\n      repeater: \"repeater\",\n      group: \"group\",\n      total: \"total\",\n    };\n    return types[summary.fieldName as keyof typeof types] || \"summary\";\n  };\n});\n\nwatch(activePageIndex, () => {\n  const pageBreakerElement = pageBreakerRef.value;\n  if (pageBreakerElement) {\n    const rect = pageBreakerElement.getBoundingClientRect();\n    const isVisible = rect.top >= 0 && rect.bottom <= window.innerHeight;\n\n    if (!isVisible) {\n      setTimeout(() => {\n        pageBreakerElement.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"start\",\n        });\n      }, 100);\n    }\n  }\n});\n</script>\n\n<style lang=\"scss\">\n.ccb-page-breaker {\n  max-width: 970px;\n  margin: 0 auto;\n  position: relative;\n\n  &.ccb-page-breaker-border {\n    border: 1px solid #ddd;\n  }\n\n  &.summary-last-page {\n    .ccb-vertical {\n      grid-template: none;\n    }\n  }\n\n  .ccb-page-popup {\n    background: var(--ccb-fields-bg-color);\n    border-radius: 8px;\n    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n    color: var(--ccb-text-color);\n    min-width: 490px;\n\n    &__header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 20px;\n      padding: 20px;\n      border-bottom: 1px solid var(--ccb-fields-border-color);\n    }\n\n    &__title {\n      font-size: 18px;\n      font-weight: 700;\n      width: 80%;\n    }\n\n    &__close {\n      cursor: pointer;\n      font-size: 12px;\n      color: var(--ccb-text-color);\n      background-color: var(--ccb-container-dark-color);\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    &__body {\n      .ccb-subtotal-wrapper {\n        background: transparent !important;\n        border: none !important;\n        padding-top: 0px;\n      }\n\n      .ccb-subtotal-wrapper {\n        box-shadow: none !important;\n      }\n\n      .ccb-summary-list__header {\n        display: none;\n      }\n\n      .ccb-summary-list {\n        max-height: 400px;\n        overflow-y: auto;\n        padding-right: 10px;\n        &::-webkit-scrollbar {\n          width: 4px;\n          margin-left: 10px;\n        }\n\n        &::-webkit-scrollbar-track {\n          background: var(--ccb-fields-border-color);\n          border-radius: 2px;\n        }\n\n        &::-webkit-scrollbar-thumb {\n          background: var(--ccb-accent-color);\n          border-radius: 2px;\n        }\n      }\n    }\n  }\n\n  .ccb-fields-wrapper {\n    padding: 0px !important;\n  }\n\n  .ccb-fields-list {\n    padding: 20px;\n  }\n  .ccb-subtotals-block-summary {\n    padding: 20px;\n    &[id*=\"ccb_summary_sticky_\"] {\n      .ccb-section-subtotal {\n        position: sticky;\n        top: 40px;\n      }\n    }\n  }\n\n  .ccb-page-navigation {\n    display: flex;\n    justify-content: flex-end;\n    padding: 20px;\n    background: var(--ccb-fields-bg-color);\n\n    &__popup-action {\n      color: var(--ccb-accent-color);\n      font-size: 13px;\n      font-weight: 500;\n\n      span {\n        cursor: pointer;\n\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n    }\n\n    &.page-formulas {\n      justify-content: space-between;\n\n      .ccb-page-navigation__actions {\n        width: fit-content;\n      }\n    }\n\n    .ccb-page-navigation__totals {\n      .ccb-total-row__item {\n        gap: 12px;\n        font-size: 13px;\n        font-weight: 800;\n      }\n    }\n\n    button {\n      padding: 11px 20px;\n      min-width: 110px;\n    }\n\n    &__actions {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      gap: 20px;\n\n      .next-btn {\n        i {\n          transform: rotate(180deg);\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"ccb-demo-box-styles\">\n    <div class=\"ccb-box-styles\">\n      <div\n        class=\"ccb-box-style-inner\"\n        :class=\"{ 'ccb-style-active': currentStyle === 'two_columns' }\"\n        @click=\"changeStyle('two_columns')\"\n      >\n        <i class=\"ccb-icon-Union-27\"></i>\n        <span>Two columns</span>\n      </div>\n      <div\n        class=\"ccb-box-style-inner\"\n        :class=\"{ 'ccb-style-active': currentStyle === 'vertical' }\"\n        @click=\"changeStyle('vertical')\"\n      >\n        <i class=\"ccb-icon-Union-26\"></i>\n        <span>Vertical</span>\n      </div>\n      <div\n        class=\"ccb-box-style-inner\"\n        :class=\"{ 'ccb-style-active': currentStyle === 'horizontal' }\"\n        @click=\"changeStyle('horizontal')\"\n      >\n        <i class=\"ccb-icon-Union-25\"></i>\n        <span>Horizontal</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { useAppearanceStore } from \"@/widget/app/providers/stores/appearanceStore.ts\";\n\nconst appearanceStore = useAppearanceStore();\n\nconst currentStyle = computed(() => appearanceStore.getAppearanceBoxStyle);\n\nconst changeStyle = (style: string) => {\n  appearanceStore.initAppearanceStore({\n    boxStyle: style,\n    descriptionPosition: appearanceStore.descriptionPosition,\n    loaderType: appearanceStore.loaderType,\n    accentColor: appearanceStore.accentColor,\n    svgColor: appearanceStore.svgColor,\n  });\n};\n</script>\n\n<style lang=\"scss\">\n.ccb-sticky-modal {\n  .ccb-demo-box-styles {\n    display: none !important;\n  }\n}\n.ccb-demo-box-styles {\n  width: 100%;\n  top: 0;\n  position: relative;\n  .ccb-box-styles {\n    background-color: #d2d8e5;\n    border-radius: 10px;\n    box-sizing: border-box;\n    display: flex;\n    margin: 30px auto;\n    padding: 3px;\n    width: fit-content;\n\n    .ccb-box-style-inner {\n      align-items: center;\n      border-radius: 8px;\n      column-gap: 10px;\n      cursor: pointer;\n      display: flex;\n      height: 44px;\n      justify-content: center;\n      min-width: 178px;\n      padding: 0 20px;\n      & > span {\n        color: #001931;\n        font-size: 14px;\n        font-weight: 500;\n      }\n\n      &.ccb-style-active {\n        background-color: #fff;\n        box-shadow: 0 3px 3px 0 #0000001a;\n        i {\n          color: #1ab163;\n          opacity: 1;\n        }\n      }\n\n      i {\n        color: #001931;\n        font-size: 19px;\n        opacity: 0.7;\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <BoxStyles v-if=\"appStore.getIsLive && !pageBreakEnabled\" />\n  <PageBreaker v-else-if=\"pageBreakEnabled\" />\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from \"vue\";\nimport PageBreaker from \"@/widget/widgets/page-breaker\";\nimport BoxStyles from \"@/widget/shared/ui/components/Box-styles/BoxStyles.vue\";\nimport { useAppStore } from \"@/widget/app/providers/stores/appStore.ts\";\nimport { useFieldsStore } from \"@/widget/app/providers/stores/fieldsStore.ts\";\n\nconst appStore = useAppStore();\nconst fieldsStore = useFieldsStore();\nconst pageBreakEnabled = computed(() => fieldsStore.getPageBreakEnabled);\n</script>\n"],"file":"assets/index-HaiznJ2Z.js"}