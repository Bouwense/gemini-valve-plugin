const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CircleWithLine-BgWOJHfq.css","./RectangleWithLine-DoRNGAcK.css","./CircleTabs-C70maUVC.css","./RectangleTabs-ByGWsM80.css","./ProgressWithCircle-DIaEPvPe.css","./ProgressWithBar-DhxoKnoi.css"])))=>i.map(i=>d[i]);
import{a as S,c as n,b as A,_ as E,l as h,f as l,H as C,u as f,e as v,r as _e,p as m,n as i,C as O,L as J,j as K,m as T,w as P,F as D,G as Y,T as B}from"./pinia-DEH50WAs.js";import{_ as ge,a as ve}from"./Wrapper.vue_vue_type_script_setup_true_lang-CeqsQtFa.js";import{u as U,a as H,b as j,c as me,d as fe,e as he,f as Pe}from"./widget-TfP9KzIn.js";import{u as G}from"./translationsStore-CB5AosK1.js";import{_ as Q,a as z}from"./TotalSummaryItem.vue_vue_type_style_index_0_lang-D7RRu9Kr.js";import{_ as W,a as X}from"./SendQuote.vue_vue_type_style_index_0_lang-Bgmm8C5A.js";import{T as be}from"./ThankYouPage-Qjd7AexU.js";import"./convert-case-to-camel-case.utils-BvCCmEmI.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ye=S({__name:"PaginationItem",setup($){const a=U().getPageBreakerSettings,t=H(),g=j(),r=G(),c=n(()=>g.getActivePageIndex+1),b=n(()=>{if((a==null?void 0:a.paginationType)==="circle_with_line")return A(()=>E(()=>import("./CircleWithLine-uAl6SbYK.js"),__vite__mapDeps([0]),import.meta.url));if((a==null?void 0:a.paginationType)==="rectangle_steps_with_line")return A(()=>E(()=>import("./RectangleWithLine-xF-e2jsl.js"),__vite__mapDeps([1]),import.meta.url));if((a==null?void 0:a.paginationType)==="circle_tabs")return A(()=>E(()=>import("./CircleTabs-DY2ItpqJ.js"),__vite__mapDeps([2]),import.meta.url));if((a==null?void 0:a.paginationType)==="rectangle_tabs")return A(()=>E(()=>import("./RectangleTabs-D2Gw8DIL.js"),__vite__mapDeps([3]),import.meta.url));if((a==null?void 0:a.paginationType)==="progress_with_circle")return A(()=>E(()=>import("./ProgressWithCircle-Cqx2ElPE.js"),__vite__mapDeps([4]),import.meta.url));if((a==null?void 0:a.paginationType)==="progress_with_bar")return A(()=>E(()=>import("./ProgressWithBar-DudITzPs.js"),__vite__mapDeps([5]),import.meta.url))}),L=n(()=>!!(a!=null&&a.hidePaginationTitle)),I=n(()=>t.getCalcTitle),y=n(()=>{let x=g.getPages.map((u,V)=>({id:V+1,title:u.label,label:u.label}));if(a!=null&&a.summaryAfterLastPage){const u=r.getTranslations.summary||"Summary";x.push({id:x.length+1,title:u,label:u})}return x});return(R,x)=>{var u;return l(),h("div",{class:C(["ccb-pagination",(u=f(a))==null?void 0:u.paginationType])},[(l(),v(_e(b.value),{pages:y.value,step:c.value,hideTitle:L.value,calcTitle:I.value},null,8,["pages","step","hideTitle","calcTitle"]))],2)}}}),Te=["href"],xe={class:"ccb-calc-edit__text"},ke=S({__name:"EditButton",setup($){const _=U(),a=G(),t=n(()=>_.getEditCalcButton);return(g,r)=>{var c;return t.value?(l(),h("a",{key:0,href:(c=t.value)==null?void 0:c.editCalcUrl,target:"_blank",class:"ccb-calc-edit"},[r[0]||(r[0]=i("span",null,[i("i",{class:"ccb-icon-Path-3483"})],-1)),i("span",xe,O(f(a).getTranslations.edit),1)],8,Te)):m("",!0)}}}),Ae={class:"ccb-page-breaker__content"},Ee={key:0,class:"ccb-page-navigation__formulas"},Ce={class:"ccb-page-navigation__totals"},Ie={class:"ccb-page-navigation__popup-action"},we={class:"ccb-page-popup"},Se={class:"ccb-page-popup__header"},$e={class:"ccb-page-popup__title"},Le={class:"ccb-page-popup__body"},Ve={class:"ccb-page-navigation__actions"},Re=S({__name:"PageBreaker",setup($){const _=H(),a=me(),t=j(),g=U(),r=fe(),c=g.getPageBreakerSettings,b=he(),L=G(),I=n(()=>g.thankYouPage),y=[],R=n(()=>!(g.hasThankYouPage&&b.notificationType==="finish")),x=n(()=>{var p;const e=I.value,o=e==null?void 0:e.type,s=e==null?void 0:e.enable;if(b.notificationType==="finish"&&g.hasThankYouPage)return((p=I.value)==null?void 0:p.type)==="same_page";if(b.notificationType==="finish"&&s){if(o==="separate_page"&&(e!=null&&e.pageUrl)){let d=e==null?void 0:e.pageUrl;d=d.includes("?")?`${d}&order_id=${r.orderId}`:`${d}?order_id=${r.orderId}`,localStorage.setItem("ccb_previous_page",window.location.href),b.resetNotifications(),window.location.replace(d)}o==="custom_page"&&e.customPageLink&&(b.resetNotifications(),window.open(e.customPageLink,"_blank"))}return!1});J(R,e=>{var s,p,d;const o=((s=I.value)==null?void 0:s.type)==="modal";e?(d=k.value)==null||d.hidePopup():(_.updateThankYouPageStatus(!o),o&&((p=k.value)==null||p.showPopup()))});const u=n(()=>t.getActivePageIndex),V=K(null),k=K(),Z=()=>{k.value.showPopup()},ee=()=>{k.value.hidePopup()},te=n(()=>{const e=t.getActivePage;return e?e.previousBtnLabel:L.getTranslations.back}),ae=n(()=>t.getActivePage.nextBtnLabel),oe=n(()=>{var e;return((e=c==null?void 0:c.formulas)==null?void 0:e.map(o=>o.alias))||[]}),q=n(()=>c==null?void 0:c.totalInPage),se=n(()=>(c==null?void 0:c.paginationType)!=="hidden"),w=n(()=>c==null?void 0:c.summaryAfterLastPage),ne=n(()=>u.value!==0),F=n(()=>t.getPages.length>1),ie=n(()=>{const e=[];for(let o=0;o<=u.value;o++){const s=t.getPages[o];s&&"groupElements"in s&&s!=null&&s.groupElements&&s.groupElements.forEach(p=>{p.fields&&p.fields.forEach(d=>{d.alias.includes("repeater")&&e.push(d.alias),d.alias&&("groupElements"in d&&Array.isArray(d.groupElements)?d.groupElements.forEach(M=>{M.alias&&e.push(M.alias)}):e.push(d.alias))})})}return e}),N=n(()=>t.getActivePage.action),le=n(()=>{let e=w.value?t.getPages.length:t.getPages.length-1;return u.value!==e}),re=n(()=>{const e=t.getActivePage;if(!(e!=null&&e.groupElements))return[];const o=Array.from(e.groupElements.values());return t.getFields.filter(s=>o.some(p=>p.alias===s.alias))}),ce=()=>{const e=a.checkPageFieldsConditions();if(t.checkPageRequiredFields(re.value))if(e){if(N.value==="not_skip")return;if(N.value==="skip"){let o=w.value?t.getPages.length+1:t.getPages.length;const s=u.value+2;s<o&&(y.push(u.value),t.updateActivePageIndex(s))}else if(N.value==="jump_to"){const o=t.getPageIndex(t.getActivePage.pageTo);o!==void 0&&(y.push(u.value),t.updateActivePageIndex(o))}}else{let o=w.value?t.getPages.length+1:t.getPages.length;const s=u.value+1;s<o&&(y.push(u.value),t.updateActivePageIndex(s))}else return},ue=n(()=>{const e=t.getPages[u.value];let o=e&&"boxStyle"in e?e.boxStyle:"horizontal";return w.value&&u.value===t.getPages.length&&(o="vertical"),o}),pe=()=>{if(y.length>0){const e=y.pop();e!==void 0&&t.updateActivePageIndex(e)}},de=n(()=>e=>({repeater:"repeater",group:"group",total:"total"})[e.fieldName]||"summary");return J(u,()=>{const e=V.value;if(e){const o=e.getBoundingClientRect();o.top>=0&&o.bottom<=window.innerHeight||setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start"})},100)}}),(e,o)=>x.value?m("",!0):(l(),h("div",{key:0,class:C(["ccb-page-breaker",[{"summary-last-page":w.value,"ccb-page-breaker-border":F.value},ue.value]]),ref_key:"pageBreakerRef",ref:V},[i("div",Ae,[se.value&&F.value?(l(),v(ye,{key:0})):m("",!0),T(ke),T(ge),f(_).isProActive?(l(),v(W,{key:1,size:"medium",ref_key:"popup",ref:k},{default:P(()=>[T(f(be))]),_:1},512)):m("",!0),F.value?(l(),h("div",{key:2,class:C(["ccb-page-navigation",{"page-formulas":q.value}])},[q.value?(l(),h("div",Ee,[i("div",Ce,[(l(!0),h(D,null,Y(f(t).getTotalsList,s=>(l(),v(B,{name:"fade"},{default:P(()=>[!s.hidden&&oe.value.includes(s.alias)?(l(),v(z,{key:s.alias,"item-type":"total",summary:s},null,8,["summary"])):m("",!0)]),_:2},1024))),256))]),i("div",Ie,[i("span",{onClick:Z},O(f(L).getTranslations.showSummary),1),T(W,{ref_key:"popup",ref:k},{default:P(()=>{var s;return[i("div",we,[i("div",Se,[i("div",$e,O((s=f(g).getGeneralSettings)==null?void 0:s.headerTitle),1),i("div",{class:"ccb-page-popup__close",onClick:ee},o[0]||(o[0]=[i("i",{class:"ccb-icon-close"},null,-1)]))]),i("div",Le,[T(ve,{wrapper:"subtotal"},{default:P(()=>[T(Q,{"list-type":"summary"},{default:P(()=>[(l(!0),h(D,null,Y(f(t).getSummaryList,p=>(l(),v(B,{key:p.alias,name:"fade"},{default:P(()=>[!p.hidden&&ie.value.includes(p.alias)?(l(),v(z,{key:0,"item-type":de.value(p),summary:p},null,8,["item-type","summary"])):m("",!0)]),_:2},1024))),128))]),_:1}),T(Q,{"list-type":"total"},{default:P(()=>[(l(!0),h(D,null,Y(f(t).getTotalsList,p=>(l(),v(B,{key:p.alias,name:"fade"},{default:P(()=>[p.hidden?m("",!0):(l(),v(z,{key:0,"item-type":"total",summary:p},null,8,["summary"]))]),_:2},1024))),128))]),_:1})]),_:1})])])]}),_:1},512)])])):m("",!0),i("div",Ve,[ne.value?(l(),v(X,{key:0,type:"success-outlined",text:te.value,onClick:pe,icon:"ccb-icon-Arrow-Previous",iconPosition:"before"},null,8,["text"])):m("",!0),le.value?(l(),v(X,{key:1,type:"success",text:ae.value,onClick:ce,icon:"ccb-icon-Arrow-Previous",iconPosition:"after",class:"next-btn",disabled:f(a).getDisableNextButton},null,8,["text","disabled"])):m("",!0)])],2)):m("",!0)])],2))}}),Fe={class:"ccb-demo-box-styles"},Ne={class:"ccb-box-styles"},De=S({__name:"BoxStyles",setup($){const _=Pe(),a=n(()=>_.getAppearanceBoxStyle),t=g=>{_.initAppearanceStore({boxStyle:g,descriptionPosition:_.descriptionPosition,loaderType:_.loaderType,accentColor:_.accentColor,svgColor:_.svgColor})};return(g,r)=>(l(),h("div",Fe,[i("div",Ne,[i("div",{class:C(["ccb-box-style-inner",{"ccb-style-active":a.value==="two_columns"}]),onClick:r[0]||(r[0]=c=>t("two_columns"))},r[3]||(r[3]=[i("i",{class:"ccb-icon-Union-27"},null,-1),i("span",null,"Two columns",-1)]),2),i("div",{class:C(["ccb-box-style-inner",{"ccb-style-active":a.value==="vertical"}]),onClick:r[1]||(r[1]=c=>t("vertical"))},r[4]||(r[4]=[i("i",{class:"ccb-icon-Union-26"},null,-1),i("span",null,"Vertical",-1)]),2),i("div",{class:C(["ccb-box-style-inner",{"ccb-style-active":a.value==="horizontal"}]),onClick:r[2]||(r[2]=c=>t("horizontal"))},r[5]||(r[5]=[i("i",{class:"ccb-icon-Union-25"},null,-1),i("span",null,"Horizontal",-1)]),2)])]))}}),Ke=S({__name:"Calculator",setup($){const _=H(),a=j(),t=n(()=>a.getPageBreakEnabled);return(g,r)=>f(_).getIsLive&&!t.value?(l(),v(De,{key:0})):t.value?(l(),v(f(Re),{key:1})):m("",!0)}});export{Ke as default};
//# sourceMappingURL=index-HaiznJ2Z.js.map
