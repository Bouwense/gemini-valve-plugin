{"version":3,"mappings":";4XAoBA,MAAMA,EAAQC,EACR,CAAE,MAAAC,CAAA,EAAUC,EAAOH,CAAK,EAExBI,EAAYC,EAAIH,EAAM,MAAM,gBAAgB,EAC5CI,EAAiB,IAAM,CACtBJ,EAAM,MAAM,cACPE,EAAA,MAAQ,CAACA,EAAU,MAC/B,EAEMG,EAAgBC,EAAS,IAAM,WACnC,IAAIC,IAAWC,GAAAC,EAAAT,EAAM,QAAN,YAAAS,EAAa,SAAb,YAAAD,EAAqB,QAAS,UAE7C,MAAME,EADcC,EAAe,EACL,UACxBC,EAAmBC,GAAiC,OACxD,OACEA,EAAE,YAAc,WAAa,CAAC,GAAEJ,EAAAI,EAAoB,SAApB,MAAAJ,EAA4B,WAEhE,EACMK,EAAcJ,EAAU,KAAKE,CAAe,EAC9C,OAAAG,EAAAD,GAAA,YAAAA,EAAa,SAAb,MAAAC,EAAqB,QACvBR,EAAWO,EAAY,OAAO,OAEzBP,CAAA,CACR,EAEKS,EAAYV,EAAS,IAEvBN,EAAM,MAAM,OAAO,KAAO,GAC1B,MAAM,KAAKA,EAAM,MAAM,OAAO,OAAO,CAAC,EAAE,KACrCiB,GAAiB,CAACA,EAAM,QAAU,CAACA,EAAM,MAAM,SAAS,OAAO,CAClE,CAEH,EAEKC,EAAiBZ,EAAS,IAAM,CACpC,MAAMC,EAAWF,EAAc,MACzBc,EAA0C,CAC9C,QAAS,IACPC,EAAA,WACE,uBACF,8CACF,MAAO,IACLA,EAAA,WACE,qBACF,8CACF,OAAQ,IACNA,EAAA,WACE,sBACF,8CACF,QAAS,IACPA,EAAA,WACE,uBACF,6CACJ,EACMC,EAASF,EAAIZ,CAAQ,GAAKY,EAAI,QACpC,OAAOG,EAAqBD,CAAM,EACnC","names":["props","__props","field","toRefs","collapsed","ref","toggleCollapse","resolvedStyle","computed","styleKey","_b","_a","allFields","useFieldsStore","isGlobalSection","f","firstGlobal","_c","hasFields","child","styleComponent","map","__vitePreload","loader","defineAsyncComponent"],"ignoreList":[],"sources":["../../src/widget/features/calculator-fields/components/Section/Section.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"styleComponent\"\n    :field=\"field\"\n    :effective-style=\"resolvedStyle\"\n    :has-fields=\"hasFields\"\n    :collapsed=\"collapsed\"\n    :toggle-collapse=\"toggleCollapse\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, toRefs, defineAsyncComponent, ref } from \"vue\";\nimport { ISectionField, Field } from \"@/widget/shared/types/fields\";\nimport { useFieldsStore } from \"@/widget/app/providers/stores/fieldsStore\";\n\ntype Props = {\n  field: ISectionField;\n};\n\nconst props = defineProps<Props>();\nconst { field } = toRefs(props);\n\nconst collapsed = ref(field.value.defaultCollapsed);\nconst toggleCollapse = () => {\n  if (!field.value.collapsible) return;\n  collapsed.value = !collapsed.value;\n};\n\nconst resolvedStyle = computed(() => {\n  let styleKey = field.value?.styles?.style || \"default\";\n  const fieldsStore = useFieldsStore();\n  const allFields = fieldsStore.getFields;\n  const isGlobalSection = (f: Field): f is ISectionField => {\n    return (\n      f.fieldName === \"section\" && !!(f as ISectionField).styles?.applyToAll\n    );\n  };\n  const firstGlobal = allFields.find(isGlobalSection);\n  if (firstGlobal?.styles?.style) {\n    styleKey = firstGlobal.styles.style;\n  }\n  return styleKey;\n});\n\nconst hasFields = computed(() => {\n  return (\n    field.value.fields.size > 0 &&\n    Array.from(field.value.fields.values()).some(\n      (child: Field) => !child.hidden && !child.alias.includes(\"total\"),\n    )\n  );\n});\n\nconst styleComponent = computed(() => {\n  const styleKey = resolvedStyle.value;\n  const map: Record<string, () => Promise<any>> = {\n    default: () =>\n      import(\n        \"@/widget/features/calculator-fields/components/Section/styles/default.vue\"\n      ),\n    solid: () =>\n      import(\n        \"@/widget/features/calculator-fields/components/Section/styles/solid.vue\"\n      ),\n    number: () =>\n      import(\n        \"@/widget/features/calculator-fields/components/Section/styles/number.vue\"\n      ),\n    minimal: () =>\n      import(\n        \"@/widget/features/calculator-fields/components/Section/styles/minimal.vue\"\n      ),\n  };\n  const loader = map[styleKey] || map.default;\n  return defineAsyncComponent(loader);\n});\n</script>\n\n<style lang=\"scss\">\n.ccb-section__fields {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(20%, 1fr));\n  gap: 20px;\n\n  .field-width-25 {\n    grid-column: span 1;\n    @media (max-width: 1024px) {\n      grid-column: span 4;\n    }\n\n    @media (max-width: 540px) {\n      grid-column: span 4;\n    }\n  }\n  .field-width-50 {\n    grid-column: span 2;\n\n    @media (max-width: 540px) {\n      grid-column: span 4;\n    }\n  }\n  .field-width-75 {\n    grid-column: span 3;\n\n    @media (max-width: 540px) {\n      grid-column: span 4;\n    }\n  }\n  .field-width-100 {\n    grid-column: span 4;\n  }\n}\n</style>\n"],"file":"assets/index-Cz6dUqEf.js"}