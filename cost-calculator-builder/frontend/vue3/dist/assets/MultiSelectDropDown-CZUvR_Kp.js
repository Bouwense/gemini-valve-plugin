import{u as F}from"./useOrderFormDropdown-Ddq7Toeb.js";import{t as N}from"./widget-TfP9KzIn.js";import{u as M}from"./translationsStore-CB5AosK1.js";import{a as A,B as O,j as W,c as w,o as j,l as u,f as i,n as l,u as o,p,F as y,G as x,K as E,C as v}from"./pinia-DEH50WAs.js";import"./convert-case-to-camel-case.utils-BvCCmEmI.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const G={class:"ccb-dropdown multi-select"},K={key:0,class:"anchor ccb-heading-5 ccb-light-3 ccb-selected"},L=["onClick"],P={key:1,class:"anchor ccb-heading-5 ccb-light ccb-selected"},R={key:2,class:"anchor ccb-heading-5 ccb-light-3"},$={class:"ccb-order-dropdown__list"},q={class:"ccb-default-checkbox"},z=["for"],H=["id","name","checked","value","onChange"],J={class:"ccb-checkbox-label"},se=A({__name:"MultiSelectDropDown",props:{field:{}},emits:["toggle"],setup(V,{emit:C}){const T=C,_=V,{field:e}=O(_),b=W(null),{toggleBody:m}=F(_,T,b),g=M(),S=a=>{var r;const s=((r=e.value.selectedIdx)==null?void 0:r.filter(t=>t!==a))||[];e.value.selectedIdx=s},n=w(()=>e.value.selectedIdx||[]),B=a=>{var h,f,k;let s=e.value.selectedIdx||[];n.value.includes(a)?s=((h=e.value.selectedIdx)==null?void 0:h.filter(d=>d!==a))||[]:s.push(a);let r=[];const t=((k=(f=e.value)==null?void 0:f.attributes)==null?void 0:k.options)||[];for(let d=0;d<t.length;d++){const D=t[d];s.includes(d)&&r.push(D.optionText||"")}const{updateValue:c}=N();e.value.value=r,c(e.value.id,e.value.value,s)},I=w(()=>Math.random().toString(36).substring(2,15));return j(()=>{var a;Array.isArray((a=e.value)==null?void 0:a.value)&&(e.value.value=e.value.value[0])}),(a,s)=>{var r;return i(),u("div",{class:"ccb-field__input-wrapper",ref_key:"dropdownWrapper",ref:b},[l("div",G,[l("div",{class:"ccb-order-dropdown__input",onClick:s[0]||(s[0]=(...t)=>o(m)&&o(m)(...t))},[s[1]||(s[1]=l("i",{class:"ccb-icon-Path-3485 ccb-select-arrow"},null,-1)),o(e).attributes&&o(e).attributes.options&&n.value.length>0?(i(),u("span",K,[n.value.length&&n.value.length<3?(i(!0),u(y,{key:0},x(n.value,(t,c)=>(i(),u("span",{class:"selected",key:c},[E(v(o(e).attributes.options[t].optionText)+" ",1),l("i",{class:"ccb-icon-close",onClick:h=>S(t)},null,8,L)]))),128)):p("",!0)])):p("",!0),n.value.length>=3?(i(),u("span",P,v(n.value.length)+" "+v(o(g).getTranslations.optionsSelected),1)):p("",!0),n.value.length===0?(i(),u("span",R,v(o(g).getTranslations.selectValues),1)):p("",!0)]),l("div",$,[l("ul",null,[(r=o(e).attributes)!=null&&r.options?(i(!0),u(y,{key:0},x(o(e).attributes.options,(t,c)=>(i(),u("li",{key:c},[l("div",q,[l("label",{for:o(e).id+"order_dropdown_checkbox_"+c},[l("input",{type:"checkbox",id:o(e).id+"order_dropdown_checkbox_"+c,name:I.value,checked:n.value.includes(c),value:t.optionText,onChange:()=>B(c)},null,40,H),l("span",J,v(t.optionText),1)],8,z)])]))),128)):p("",!0)])])])],512)}}});export{se as default};
//# sourceMappingURL=MultiSelectDropDown-CZUvR_Kp.js.map
