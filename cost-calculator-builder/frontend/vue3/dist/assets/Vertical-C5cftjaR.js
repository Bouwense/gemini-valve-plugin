import{a as U,c as u,j as X,l,f as t,m as d,e as r,p as i,w as o,F as y,G as k,u as s,T as S,n as R,P as W,H as P}from"./pinia-DEH50WAs.js";import{a as T}from"./Wrapper.vue_vue_type_script_setup_true_lang-CeqsQtFa.js";import{_ as Z,a as ee,N as z,P as V,W as D,S as j}from"./WooRedirectCart-Bx5I6vDO.js";import{e as te,b as ae,u as se,f as re,a as ne,j as oe,i as ie}from"./widget-TfP9KzIn.js";import{_ as v,a as b}from"./TotalSummaryItem.vue_vue_type_style_index_0_lang-D7RRu9Kr.js";import{_ as H}from"./HeaderTitle.vue_vue_type_style_index_0_lang-BmnIXqyO.js";import{b as O}from"./SendQuote.vue_vue_type_style_index_0_lang-Bgmm8C5A.js";import"./translationsStore-CB5AosK1.js";import"./convert-case-to-camel-case.utils-BvCCmEmI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";const ve=U({__name:"Vertical",setup(ue){const _=te(),p=ae(),f=se(),G=re(),Y=ne(),{hasPromocodes:$}=oe(),E=ie(),q=u(()=>_.notificationStatus&&(_.notificationType!=="finish"||!f.hasThankYouPage)&&!C.value),J=u(()=>p.getPages.length>1),F=u(()=>e=>({repeater:"repeater",group:"group",total:"total"})[e.fieldName]||"summary"),K=u(()=>{const e=[];for(let c=0;c<=A.value;c++){const n=p.getPages[c];"groupElements"in n&&n.groupElements&&n.groupElements.forEach(m=>{"fields"in m&&Array.isArray(m.fields)&&m.fields.forEach(a=>{a.alias&&("groupElements"in a&&a.groupElements&&Array.isArray(a.groupElements)?(a.alias.includes("repeater")&&e.push(a.alias),a.groupElements.forEach(g=>{g.alias&&e.push(g.alias)})):e.push(a.alias))})})}return e}),M=u(()=>e=>e!=null&&e.hidden?!e.hidden:e!=null&&e.hideAndLeaveTotal?!e.hideAndLeaveTotal:!0),w=f.getPageBreakerSettings,N=u(()=>_.notificationType==="success"&&C.value),h=X(null),x=u(()=>{const e=()=>h.value?h.value.children.length:0;return Q.value?`button-${e()} has-share`:`button-${e()} `}),Q=u(()=>{var e;return(e=f.getInvoice)==null?void 0:e.emailButton}),A=u(()=>p.getActivePageIndex),C=u(()=>{var e;return((e=f.getWooCheckoutSettings)==null?void 0:e.redirectTo)==="stay"&&_.message==="Stay on page"}),B=u(()=>{var c,n;const e=(c=f.getFormSettings)==null?void 0:c.summaryDisplay;return e!=null&&e.enable&&((n=f.getFormSettings)==null?void 0:n.accessEmail)===!0?["show_summary_block","show_summary_block_with_pdf"].includes(e==null?void 0:e.actionAfterSubmit)?f.summaryDisplayShowSummary:!1:!0}),L=u(()=>w==null?void 0:w.summaryAfterLastPage),I=u(()=>{var c;const e=(c=f.general)==null?void 0:c.sticky;return G.getAppearanceBoxStyle==="horizontal"||!e?(window.$ccbSticky&&window.$ccbSticky.destroy(),null):(window.$ccbSticky&&window.$ccbSticky.initialize(),`ccb_summary_sticky_${Y.getCalcId}`)});return(e,c)=>(t(),l("div",{class:P(["ccb-vertical-layout",{"enough-pages":J.value,"summary-last-page":L.value}])},[d(T,{wrapper:"fields"},{default:o(()=>[d(Z,{grid:"list"},{default:o(()=>[(t(!0),l(y,null,k(s(p).getPages,(n,m)=>(t(),l(y,{key:n.alias},[m===A.value&&"groupElements"in n?(t(!0),l(y,{key:0},k(n.groupElements,a=>(t(),l(y,null,[(t(!0),l(y,null,k(s(p).getFields,g=>(t(),r(S,{key:g.alias,name:"fade"},{default:o(()=>[M.value(g)&&"alias"in a&&a.alias===g.alias&&!g.alias.includes("total")?(t(),r(ee,{name:g.fieldName,field:g,key:g.alias},null,8,["name","field"])):i("",!0)]),_:2},1024))),128))],64))),256)):i("",!0)],64))),128)),A.value===s(p).getPages.length?(t(),r(T,{key:0,wrapper:"subtotal",class:"ccb-subtotals-block",id:I.value},{default:o(()=>{var n,m;return[B.value?(t(),l(y,{key:0},[d(v,{"list-type":"summary"},{default:o(()=>[(t(!0),l(y,null,k(s(p).getSummaryList,a=>(t(),r(S,{key:a.alias,name:"fade"},{default:o(()=>[a.hidden?i("",!0):(t(),r(b,{key:0,"item-type":F.value(a),summary:a},null,8,["item-type","summary"]))]),_:2},1024))),128))]),_:1}),d(v,{"list-type":"total"},{default:o(()=>[(t(!0),l(y,null,k(s(p).getTotalsList,a=>(t(),r(S,{key:a.alias,name:"fade"},{default:o(()=>[a.hidden?i("",!0):(t(),r(b,{key:0,"item-type":"total",summary:a},null,8,["summary"]))]),_:2},1024))),128))]),_:1})],64)):(t(),r(H,{key:1,title:(m=(n=s(f).getFormSettings)==null?void 0:n.summaryDisplay)==null?void 0:m.formTitle},null,8,["title"])),s($)()?(t(),r(s(V),{key:2})):i("",!0),N.value?(t(),r(D,{key:3})):i("",!0),R("div",{class:P(["ccb-actions",x.value]),style:W(s(E).getNextButtonStatus?"":"flex-direction: column;"),ref_key:"actionsRef",ref:h},[d(s(j),{class:"ccb-actions__item"}),d(s(O),{class:"ccb-actions__item"})],6)]}),notifications:o(()=>[s(_).notificationStatus?(t(),r(s(z),{key:0,type:s(_).notificationType,message:s(_).message},null,8,["type","message"])):i("",!0)]),_:1},8,["id"])):i("",!0)]),_:1})]),_:1}),L.value?i("",!0):(t(),r(T,{key:0,wrapper:"subtotal",class:"ccb-subtotals-block ccb-subtotals-block-summary",id:I.value},{default:o(()=>{var n,m;return[B.value?(t(),l(y,{key:0},[d(v,{"list-type":"summary"},{default:o(()=>[(t(!0),l(y,null,k(s(p).getSummaryList,a=>(t(),r(S,{key:a.alias,name:"fade"},{default:o(()=>[!a.hidden&&K.value.includes(a.alias)?(t(),r(b,{key:0,"item-type":F.value(a),summary:a},null,8,["item-type","summary"])):i("",!0)]),_:2},1024))),128))]),_:1}),d(v,{"list-type":"total"},{default:o(()=>[(t(!0),l(y,null,k(s(p).getTotalsList,a=>(t(),r(S,{key:a.alias,name:"fade"},{default:o(()=>[a.hidden?i("",!0):(t(),r(b,{key:0,"item-type":"total",summary:a},null,8,["summary"]))]),_:2},1024))),128))]),_:1})],64)):(t(),r(H,{key:1,title:(m=(n=s(f).getFormSettings)==null?void 0:n.summaryDisplay)==null?void 0:m.formTitle},null,8,["title"])),s($)()?(t(),r(s(V),{key:2})):i("",!0),N.value?(t(),r(D,{key:3})):i("",!0),R("div",{class:P(["ccb-actions",x.value]),style:W(s(E).getNextButtonStatus?"":"flex-direction: column;"),ref_key:"actionsRef",ref:h},[d(s(j),{class:"ccb-actions__item"}),d(s(O),{class:"ccb-actions__item"})],6)]}),notifications:o(()=>[q.value?(t(),r(s(z),{key:0,type:s(_).notificationType,message:s(_).message},null,8,["type","message"])):i("",!0)]),_:1},8,["id"]))],2))}});export{ve as default};
//# sourceMappingURL=Vertical-C5cftjaR.js.map
