const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vue3-apexcharts-CDy0CNA2.css","./analytics-Beb4MpW8.css","./global-S_UTFf7O.css","./index-Xc5w86hz.css","./main-CWmBI_q2.css","./PieChart-By7vKXm6.css"])))=>i.map(i=>d[i]);
import{a as w,c as b,b as L,_ as E,l,f as n,F as C,G as I,e as W,p as y,r as B,B as A,j as V,o as O,v as U,n as s,u as a,C as h,H as D,K as R,m as P,M,X as N,J as K}from"./pinia-DEH50WAs.js";import{u as x}from"./index-DsTeGTZZ.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as T,m as j}from"./vue3-apexcharts-BmJ2eljl.js";import{u as G}from"./analytics-HNNs2xHh.js";import"./vue-datepicker-CnJblVkn.js";/* empty css             */import"./index-xsH4HHeE.js";import"./convert-case-to-camel-case.utils-BvCCmEmI.js";/* empty css               */const H={class:"ccb-singlepage-content"},J=w({__name:"ChartsSection",setup(f){const e=x(),v=b(()=>e.getSingleCharts),_=b(()=>i=>{if(i==="bar")return L(()=>E(()=>import("./BarChart-BLTWXlt-.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url));if(i==="columns")return L(()=>E(()=>import("./ColumnsChart-BrFghs8G.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url));if(i==="line")return L(()=>E(()=>import("./LinearChart-CSqp2RAG.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url));if(i==="pie")return L(()=>E(()=>import("./PieChart-DuDURMG3.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url))}),u=b(()=>e.getChartsPageSettings);return(i,p)=>(n(),l("div",H,[(n(!0),l(C,null,I(v.value,d=>(n(),l(C,{key:d.key},[u.value[d.key]?(n(),W(B(_.value(d.type)),{key:d.key,chart:d,page:"single"},null,8,["chart"])):y("",!0)],64))),128))]))}}),X=$(J,[["__scopeId","data-v-a7cd8137"]]),q={key:0,class:"ccb-widget-settings-dropdown"},Q={class:"ccb-widget-settings-list"},Y=["onClick"],Z=w({__name:"WidgetSettings",props:{items:{},current:{}},emits:["update"],setup(f,{emit:e}){const v=f,_=e,{items:u,current:i}=A(v),p=V(!1),d=V(null);function S(){p.value=!p.value}function r(g){p.value=!1,_("update",g.value,i.value||"")}const c=()=>{p.value=!1},m=g=>{d.value&&!d.value.contains(g.target)&&c()};return O(()=>{document.addEventListener("click",m)}),U(()=>{document.removeEventListener("click",m)}),(g,t)=>(n(),l("div",{class:"ccb-widget-settings-wrapper",ref_key:"dropdownRef",ref:d},[s("div",{class:"ccb-widget-settings-block",onClick:S},t[0]||(t[0]=[s("span",null,null,-1),s("span",null,null,-1),s("span",null,null,-1)])),p.value?(n(),l("div",q,[s("div",Q,[(n(!0),l(C,null,I(a(u),o=>(n(),l("div",{key:o.value,class:"ccb-widget-settings-item",onClick:k=>r(o)},h(o.label),9,Y))),128))])])):y("",!0)],512))}}),z=$(Z,[["__scopeId","data-v-0d1ec23f"]]),ee={class:"ccb-dashboard-card card-wrapper"},te={class:"ccb-dashboard-content"},se={class:"ccb-dashboard-content-header"},ae={class:"ccb-dashboard-title"},ne={key:0,class:"ccb-dashboard-currency"},ie={class:"ccb-dashboard-sub"},oe={class:"ccb-dashboard-content-footer"},ce={class:"ccb-dashboard-value"},re={class:"ccb-dashboard-chart"},le=w({__name:"LargeWidget",props:{cart:{},items:{},currency:{}},emits:["change"],setup(f,{emit:e}){const v=x(),_=e,u=f,{cart:i,items:p}=A(u),d=(r,c)=>{_("change",r,c)},S=b(()=>r=>{const c=parseFloat(r);return c>1e3?(c/1e3).toFixed(1)+"k":c});return(r,c)=>(n(),l("div",ee,[a(v).isLoading?(n(),W(a(T),{key:0})):y("",!0),s("div",{class:D(["ccb-dashboard-card-wrapper",{"is-loading":a(v).isLoading}])},[s("div",te,[s("div",se,[s("div",ae,[R(h(a(i).title)+" ",1),r.currency&&a(i).key==="revenue"?(n(),l("span",ne," ("+h(r.currency)+") ",1)):y("",!0)]),s("div",ie,[P(a(z),{items:a(p),onUpdate:d,current:a(i).key},null,8,["items","current"])])]),s("div",oe,[s("div",ce,h(S.value(a(i).value)),1)])]),s("div",re,[P(a(j),{options:a(i).options,series:a(i).series,width:"100%",height:"24"},null,8,["options","series"])])],2)]))}}),de=$(le,[["__scopeId","data-v-512262b8"]]),ue={class:"ccb-dashboard-card card-wrapper"},ge={class:"ccb-dashboard-content"},_e={class:"ccb-dashboard-content-header"},pe={class:"ccb-dashboard-title"},ve={key:0,class:"ccb-dashboard-currency"},me={class:"ccb-dashboard-sub"},he={class:"ccb-dashboard-content-footer"},be={class:"ccb-dashboard-value"},fe=w({__name:"SmallWidget",props:{cart:{},items:{},currency:{}},emits:["change"],setup(f,{emit:e}){const v=x(),_=e,u=f,{cart:i,items:p}=A(u),d=(r,c)=>{_("change",r,c)},S=b(()=>r=>{const c=parseFloat(r);return c>1e3?(c/1e3).toFixed(1)+"k":c});return(r,c)=>(n(),l("div",ue,[a(v).isLoading?(n(),W(a(T),{key:0})):y("",!0),s("div",{class:D(["ccb-dashboard-card-wrapper",{"is-loading":a(v).isLoading}])},[s("div",ge,[s("div",_e,[s("div",pe,[R(h(a(i).title)+" ",1),r.currency&&a(i).key==="revenue"?(n(),l("span",ve," ("+h(r.currency)+") ",1)):y("",!0)]),s("div",me,[P(a(z),{items:a(p),onUpdate:d,current:a(i).key},null,8,["items","current"])])]),s("div",he,[s("div",be,h(S.value(a(i).value)),1)])])],2)]))}}),Se=$(fe,[["__scopeId","data-v-e001eeae"]]),ye={class:"ccb-singlepage-sidebar"},ke={class:"ccb-singlepage-add-widget-container"},Ce={class:"ccb-singlepage-widgets-options"},we={class:"ccb-singlepage-widget-option"},$e={class:"ccb-singlepage-widget-option-select"},We={value:"",selected:""},Pe=["value"],Le={class:"ccb-dashboard-row"},Ee=w({__name:"WidgetsSection",setup(f){const e=x(),v=G(),_=b(()=>v.getTranslations),u=V(""),i=b(()=>e.getSingleCarts),p=V([{value:"hide",label:_.value.hide},{value:"small/large",label:_.value.smallLarge},{value:"delete",label:_.value.deleted}]),d=b(()=>e.getWidgetsPageSettings),S=b(()=>{const m=e.getSingleCarts.map(g=>g.key);return e.getAvailableWidgets.filter(g=>!m.includes(g.key))}),r=()=>{var m;if((m=u.value)!=null&&m.trim()){if(e.getSingleCarts.find(o=>o.key===u.value.trim()))return;const t=S.value.find(o=>o.key===u.value);if(t){t.size="large",t.options={...t.options,chart:{...t.options.chart}};const o=[...e.getSingleCarts,t],k=e.getSolidPageSettings;k.widgets||(k.widgets={}),k.widgets[t.key||""]=!0,e.updatePageSettings(k),e.updateSingleCarts(o),e.saveWidgets(),e.savePageSettings()}}u.value=""},c=(m,g)=>{const t=e.getSingleCarts.find(o=>o.key===g);if(t){if(m==="hide"){const o=e.getSolidPageSettings;t.key&&t.key in o.widgets&&(o.widgets[t.key]=!1,e.updatePageSettings(o),e.saveWidgets(),e.savePageSettings())}if(m==="small/large"&&(t.size=t.size==="large"?"small":"large",e.updateSingleCarts(e.getSingleCarts),e.saveWidgets()),m==="delete"){const o=e.getSolidPageSettings;if(t.key&&t.key in o.widgets){delete o.widgets[t.key];const k=e.getSingleCarts.filter(F=>F.key!==g);e.updateSingleCarts(k),e.updatePageSettings(o),e.saveWidgets(),e.savePageSettings()}}}};return(m,g)=>(n(),l("div",ye,[s("div",ke,[s("div",Ce,[s("div",we,[s("span",null,h(_.value.type),1),s("div",$e,[M(s("select",{"onUpdate:modelValue":g[0]||(g[0]=t=>u.value=t)},[s("option",We,h(_.value.selectWidget),1),(n(!0),l(C,null,I(S.value,t=>(n(),l("option",{value:t.key},h(t.title),9,Pe))),256))],512),[[N,u.value]])])])]),s("button",{class:D(["ccb-singlepage-add-widget",{"ccb-is-loading-for-settings":a(e).isLoading||!u.value}]),onClick:K(r,["prevent"])},h(_.value.addWidget),3)]),s("div",Le,[(n(!0),l(C,null,I(i.value,(t,o)=>(n(),l(C,{key:o},[d.value[t.key||""]&&t.size==="large"?(n(),W(a(de),{key:0,cart:t,items:p.value,onChange:c,currency:a(e).getCurrency},null,8,["cart","items","currency"])):y("",!0),d.value[t.key||""]&&t.size==="small"?(n(),W(a(Se),{key:1,cart:t,items:p.value,onChange:c,currency:a(e).getCurrency},null,8,["cart","items","currency"])):y("",!0)],64))),128))])]))}}),Ie=$(Ee,[["__scopeId","data-v-378fac2d"]]),Ve={class:"ccb-singlepage-layout"},xe=w({__name:"SinglePage",setup(f){return(e,v)=>(n(),l("div",Ve,[P(X),P(Ie)]))}}),Ne=$(xe,[["__scopeId","data-v-bc95728b"]]);export{Ne as default};
//# sourceMappingURL=SinglePage-xgarm3kq.js.map
